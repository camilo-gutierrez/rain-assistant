@import "tailwindcss";

/* =========================================================================
   THEME VARIABLES — Material Design
   ========================================================================= */

/* Light theme (default) — Indigo seed palette */
:root {
  --bg: #F8F8FC;
  --surface: #FFFFFF;
  --surface2: #F1F1F8;
  --overlay: #E4E4EC;
  --text: #1A1A2E;
  --text2: #5C5C72;
  --subtext: #9494A8;
  --blue: #4F46E5;
  --green: #22C55E;
  --red: #EF4444;
  --yellow: #F59E0B;
  --mauve: #8B5CF6;
  --cyan: #06B6D4;
  --magenta: #EC4899;
  /* Indigo primary — matches Flutter seed #6366F1 */
  --primary: #6366F1;
  --primary-light: #818CF8;
  --primary-dark: #4F46E5;
  --on-primary: #FFFFFF;
  --primary-rgb: 99, 102, 241;
  --surface-rgb: 255, 255, 255;
  --shadow-1: 0 1px 2px rgba(0,0,0,0.05), 0 1px 3px rgba(0,0,0,0.08);
  --shadow-2: 0 4px 6px -1px rgba(0,0,0,0.08), 0 2px 4px -2px rgba(0,0,0,0.06);
  --shadow-3: 0 10px 15px -3px rgba(0,0,0,0.08), 0 4px 6px -4px rgba(0,0,0,0.05);
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
}

/* Dark theme — deep premium dark */
[data-theme="dark"] {
  --bg: #0B0B10;
  --surface: #15151E;
  --surface2: #1E1E2A;
  --overlay: #2A2A3A;
  --text: #E4E4E7;
  --text2: #A1A1AA;
  --subtext: #71717A;
  --blue: #818CF8;
  --green: #4ADE80;
  --red: #F87171;
  --yellow: #FBBF24;
  --mauve: #A78BFA;
  --cyan: #22D3EE;
  --magenta: #F472B6;
  --primary: #818CF8;
  --primary-light: #A5B4FC;
  --primary-dark: #6366F1;
  --on-primary: #0B0B10;
  --primary-rgb: 129, 140, 248;
  --surface-rgb: 21, 21, 30;
  --shadow-1: 0 1px 2px rgba(0,0,0,0.5), 0 0 1px rgba(99,102,241,0.05);
  --shadow-2: 0 4px 8px rgba(0,0,0,0.5), 0 0 2px rgba(99,102,241,0.08);
  --shadow-3: 0 10px 20px rgba(0,0,0,0.6), 0 0 4px rgba(99,102,241,0.1);
}

/* =========================================================================
   TAILWIND THEME EXTENSION
   ========================================================================= */

@theme inline {
  --color-bg: var(--bg);
  --color-surface: var(--surface);
  --color-surface2: var(--surface2);
  --color-overlay: var(--overlay);
  --color-text: var(--text);
  --color-text2: var(--text2);
  --color-subtext: var(--subtext);
  --color-blue: var(--blue);
  --color-green: var(--green);
  --color-red: var(--red);
  --color-yellow: var(--yellow);
  --color-mauve: var(--mauve);
  --color-cyan: var(--cyan);
  --color-magenta: var(--magenta);
  --color-primary: var(--primary);
  --color-primary-light: var(--primary-light);
  --color-primary-dark: var(--primary-dark);
  --color-on-primary: var(--on-primary);

  --font-inter: var(--font-inter);
  --font-jetbrains: var(--font-jetbrains);

  --animate-msg-appear: msg-appear 0.25s ease-out;
  --animate-fade-in: fade-in 0.2s ease-out;
  --animate-slide-up: slide-up 0.25s ease-out;
  --animate-spin-slow: spin 1.5s linear infinite;
  --animate-toast-enter: toast-enter 0.2s ease-out;
  --animate-toast-exit: toast-exit 0.15s ease-in forwards;
  --animate-shimmer: shimmer 2s infinite;
  --animate-pulse-ring: pulse-ring 1.5s ease-out infinite;
  --animate-scale-in: scale-in 0.2s ease-out;
  --animate-slide-in-right: slide-in-right 0.25s ease-out;
}

/* =========================================================================
   BASE STYLES
   ========================================================================= */

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: var(--font-inter), -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;
  background: var(--bg);
  color: var(--text);
  height: 100dvh;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

/* =========================================================================
   SCROLLBAR
   ========================================================================= */

::-webkit-scrollbar { width: 5px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb {
  background: var(--overlay);
  border-radius: 9999px;
}
::-webkit-scrollbar-thumb:hover {
  background: var(--subtext);
}

/* =========================================================================
   SMOOTH THEME TRANSITIONS
   ========================================================================= */

body, .theme-transition {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

/* =========================================================================
   KEYFRAMES
   ========================================================================= */

@keyframes msg-appear {
  from { opacity: 0; transform: translateY(6px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slide-up {
  from { opacity: 0; transform: translateY(12px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes scale-in {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes slide-in-right {
  from { opacity: 0; transform: translateX(12px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes glow-pulse {
  0%, 100% { box-shadow: 0 0 0 0 rgba(var(--primary-rgb), 0); }
  50% { box-shadow: 0 0 12px 2px rgba(var(--primary-rgb), 0.15); }
}

@keyframes slide-in-left {
  from { transform: translateX(-100%); }
  to { transform: translateX(0); }
}

@keyframes pulse-dot {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-4px); }
}

@keyframes toast-enter {
  from { opacity: 0; transform: translateY(8px) scale(0.96); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}

@keyframes toast-exit {
  from { opacity: 1; transform: translateX(0); }
  to { opacity: 0; transform: translateX(100%); }
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

@keyframes pulse-ring {
  0% { box-shadow: 0 0 0 0 rgba(var(--primary-rgb), 0.4); }
  70% { box-shadow: 0 0 0 8px rgba(var(--primary-rgb), 0); }
  100% { box-shadow: 0 0 0 0 rgba(var(--primary-rgb), 0); }
}

@keyframes voice-wave {
  0%, 100% { transform: scaleY(0.4); }
  50% { transform: scaleY(1); }
}

@keyframes ping-slow {
  0% { transform: scale(1); opacity: 0.3; }
  75%, 100% { transform: scale(1.5); opacity: 0; }
}

@keyframes fade-in {
  from { opacity: 0; transform: translateY(4px); }
  to { opacity: 1; transform: translateY(0); }
}

.animate-voice-wave {
  animation: voice-wave 0.6s ease-in-out infinite;
}

.animate-ping-slow {
  animation: ping-slow 2s cubic-bezier(0, 0, 0.2, 1) infinite;
}

.animate-fade-in {
  animation: fade-in 0.2s ease-out;
}

/* =========================================================================
   UTILITY CLASSES
   ========================================================================= */

.backdrop-blur-overlay {
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

.focus-ring {
  outline: none;
}
.focus-ring:focus-visible {
  box-shadow: 0 0 0 2px var(--bg), 0 0 0 4px rgba(var(--primary-rgb), 0.5);
  transition: box-shadow 0.2s ease;
}

.shimmer-bg {
  background: linear-gradient(90deg, var(--surface2) 25%, var(--overlay) 37%, var(--surface2) 63%);
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
}

/* Glass surface for premium overlays */
.glass-surface {
  background: rgba(var(--surface-rgb), 0.85);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

/* Subtle inner glow for active states */
.inner-glow-primary {
  box-shadow: inset 0 0 0 1px rgba(var(--primary-rgb), 0.15);
}

/* Touch device detection */
@media (hover: none) {
  .touch-visible { opacity: 0.6 !important; }
}

/* Prevent iOS auto-zoom on input focus (font-size < 16px triggers it) */
@supports (-webkit-touch-callout: none) {
  @media (max-width: 639px) {
    input, textarea, select {
      font-size: max(16px, 1em);
    }
  }
}

/* Mobile: thinner scrollbars */
@media (max-width: 768px) {
  ::-webkit-scrollbar { width: 3px; }
}

/* =========================================================================
   RESPONSIVE
   ========================================================================= */

@media (max-width: 480px) {
  .rate-bars-responsive { display: none; }
}
